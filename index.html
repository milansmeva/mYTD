<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./node_modules/bulma/css/bulma.min.css">
    <link rel="stylesheet" href="./node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="main.css">
    <title>mYTD - Milan's Youtube Downloader</title>
</head>

<body ng-app="mYTD" ng-controller="mainController">
    <header>
        <nav>
            <div class="title">
                <h2 class="is-size-4">mYT Downloader</h2>
            </div>
            <div class="actions">
                <button ng-click="minimizeWindow()"><img class="img-responsive" src="./imgs/mini.png" alt=""></button>
                <button ng-click="closeWindow()"><img src="./imgs/X.svg" alt=""></button>
            </div>
        </nav>
    </header>
    <div class="container">
        <div class="search">
            <div class="field has-addons">
                <div class="control is-expanded">
                    <input id="url" ng-model="urlInput" class="input" type="text" placeholder="Youtube video url.....">
                </div>
                <div class="control">
                    <button ng-click="downloadClicked()" class="button is-danger" id="downloadBtn">Download</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Spinner -->
    <div ng-if="isLoading" id="loader" class="loader">Loading...</div>
    <div class="main-content" ng-if="metadata">
        <article class="media">
            <figure class="media-left">
                <p class="image">
                    {{metadata.vd.thumbs[metadata.vd.thumbs.length-1].url}}
                    <img class='thumbnail-main' ng-src="{{metadata.vd.thubms[metadata.vd.thubms.length-2].url}}">
                </p>
            </figure>
            <div class="media-content">
                <div class="content">
                    <p class="is-size-5"><strong>{{metadata.title}}</strong>
                    </p>
                </div>

                <div>
                    <button class="button is-info is-small is-outlined"
                        ng-click="downloadVideoClicked()">DOWNLOAD</button>
                </div>

            </div>
        </article>
        <div style="margin-top: 18px">
            <progress ng-if="downloadStarted && !downloadFinished" class="progress" value="{{info.percentage}}"
                max="100">{{info.percentage}}%</progress>
        </div>
    </div>
    
    <script src="renderer.js"></script>

</body>

</html>